!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-redux")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hideStory=t.upVote=t.fetchStories=t.HIDE_STORY=t.UPVOTE_STORY=t.FETCH_STORIES=void 0;var n,a=r(15),o=(n=a)&&n.__esModule?n:{default:n};function u(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(a,o){try{var u=t[a](o),l=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(l).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(l)}("next")}))}}var l=t.FETCH_STORIES="FETCH_STORIES",i=t.UPVOTE_STORY="UPVOTE_STORY",c=t.HIDE_STORY="HIDE_STORY";t.fetchStories=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"client";return t=u(regeneratorRuntime.mark((function t(n){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e||0,t.next=3,o.default.get("https://hn.algolia.com/api/v1/search_by_date?tags=story&&page="+e);case 3:a=t.sent,n({type:l,payload:a,env:r});case 5:case"end":return t.stop()}}),t,void 0)}))),function(e){return t.apply(this,arguments)}},t.upVote=function(e){return function(t){t({type:i,payload:e})}},t.hideStory=function(e){return function(t){t({type:c,payload:e})}}},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("react-router-dom")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(r(0)),r(4);var n=r(12),a=o(n);function o(e){return e&&e.__esModule?e:{default:e}}t.default=[{loadData:n.loadData,path:"/",exact:!0,component:a.default},{loadData:n.loadData,path:"/:page",component:a.default}]},function(e,t){e.exports=require("react-router-config")},function(e,t,r){"use strict";r(8);var n=d(r(9)),a=d(r(10)),o=r(6),u=d(r(5)),l=d(r(29)),i=r(3),c=d(r(32));function d(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)();s.use(n.default.static("public")),s.get("*",(function(e,t){var r=(0,i.createStore)(l.default,{},(0,i.applyMiddleware)(c.default)),n=(0,o.matchRoutes)(u.default,e.path).map((function(e){return e.route.loadData?e.route.loadData(r,e):null})).map((function(e){if(e)return new Promise((function(t,r){e.then(t).catch(t)}))}));Promise.all(n).then((function(){t.send((0,a.default)(e,r))}))})),s.listen(process.env.PORT||3e3,(function(){console.log("listening on port 3000")}))},function(e,t){e.exports=require("babel-polyfill")},function(e,t){e.exports=require("express")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(r(0)),a=r(11),o=d(r(5)),u=r(4),l=r(1),i=r(6),c=d(r(28));function d(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return'\n        <html>\n            <head>\n              <link rel="stylesheet" href="main.css">\n            </head>\n            <body>\n                <div id = "root">'+(0,a.renderToString)(n.default.createElement(l.Provider,{store:t},n.default.createElement(u.StaticRouter,{location:e.path,context:{}},n.default.createElement("div",null,(0,i.renderRoutes)(o.default)))))+"</div>\n                <script>\n                    window.INITIAL_STATE = "+(0,c.default)(t.getState())+'\n                <\/script>\n                <script src = "bundle.js"><\/script>\n\n            </body>\n        </html>\n    '}},function(e,t){e.exports=require("react-dom/server")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadData=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=s(r(0)),o=r(1),u=s(r(13)),l=r(2),i=r(16),c=s(r(23)),d=s(r(24));function s(e){return e&&e.__esModule?e:{default:e}}r(27);var f=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"fetchPage",value:function(e){e.page?e.fetchStories(e.page):e.fetchStories()}},{key:"componentDidMount",value:function(){this.fetchPage(this.props)}},{key:"componentDidUpdate",value:function(e){this.props.page!==e.page&&this.fetchPage(this.props)}},{key:"render",value:function(){var e=this.props.stories,t=e.hits?e.hits:[],r=e.nbPages?e.nbPages:1,n=this.props.page?this.props.page:0,o=e.hits.map((function(e){return e.objectID})),l=e.hits.map((function(e){return e.points}));return a.default.createElement("div",{role:"heading","aria-level":"1"},a.default.createElement(u.default,{rows:t,header:i.header}),a.default.createElement("div",{className:"hn_page_navigation"},a.default.createElement(c.default,{page:n,nbPages:r})),a.default.createElement(d.default,{labels:o,data:l}))}}]),t}(a.default.Component);t.loadData=function(e,t){var r=t.match;t=t.route;var n=r.params.page?r.params.page:0;return e.dispatch((0,l.fetchStories)(n,"server"))},t.default=(0,o.connect)((function(e,t){var r=t.match.params.page?t.match.params.page:0;return{stories:e.stories,page:r}}),{fetchStories:l.fetchStories})(f)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(0),o=(n=a)&&n.__esModule?n:{default:n};r(14);t.default=function(e){var t=e.header,r=e.rows,n=void 0===r?[]:r;return o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,t.map((function(e){return o.default.createElement("th",{key:e.key},e.value)})))),o.default.createElement("tbody",null,!n.length&&o.default.createElement("tr",null,o.default.createElement("td",{colSpan:t.length},"No data available!")," "),n.map((function(e){return!e.isHidden&&o.default.createElement("tr",{key:e.objectID},t.map((function(t){return o.default.createElement("td",{key:t.key+"_"+e.objectID+"_"+e.points},function(e,t){var r=e[t.key],n=t.RenderTd;return n?o.default.createElement(n,{data:e}):""+r}(e,t))})))}))))}},function(e,t,r){e.exports={primary:"#c64f00",chartBorder:"#104875",secondary5:"#a5adae"}},function(e,t){e.exports=require("axios")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.header=void 0;var n=u(r(17)),a=u(r(18)),o=u(r(19));function u(e){return e&&e.__esModule?e:{default:e}}r(22);t.header=[{className:"",value:"Comments",key:"num_comments"},{className:"",value:"Vote Count",key:"points",RenderTd:n.default},{className:"",value:"UpVote",key:"up_vote",RenderTd:a.default},{className:"",value:"News Details",key:"news_details",RenderTd:o.default}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(0),o=(n=a)&&n.__esModule?n:{default:n};t.default=function(e){var t=e.data,r="";return t.points>=50&&(r="hn_vote_above_50"),t.points>=80&&(r="hn_vote_above_80"),t.points>=100&&(r="hn_vote_above_100"),o.default.createElement("span",{className:r},t.points)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(0),o=(n=a)&&n.__esModule?n:{default:n},u=(r(3),r(1)),l=r(2);t.default=(0,u.connect)(null,{upVote:l.upVote})((function(e){var t=e.data,r=e.upVote;return o.default.createElement("center",null,o.default.createElement("div",{className:"votearrow",title:"upvote",role:"button","aria-pressed":"false",onClick:function(){return e=t.objectID,void r({id:e});var e}}))}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(0),o=(n=a)&&n.__esModule?n:{default:n},u=(r(3),r(1)),l=r(2),i=r(20);t.default=(0,u.connect)(null,{hideStory:l.hideStory})((function(e){var t=e.data,r=e.hideStory;return o.default.createElement("div",{className:"hn_details"},o.default.createElement("span",{className:"hn_title"},""+t.title),o.default.createElement("span",{className:"hn_url"},t.url&&o.default.createElement("span",null," (",o.default.createElement("a",{href:t.url},o.default.createElement("b",null,""+(0,i.getHostName)(t.url))),")"))," ",o.default.createElement("span",{className:"hn_author"},"by"," ",o.default.createElement("b",null,t.author))," ",o.default.createElement("span",{className:"hn_time"},""+(0,i.getRelativeTime)(t.created_at))," ",o.default.createElement("span",{className:"hn_hide"},"["," ",o.default.createElement("a",{onClick:function(){return e=t.objectID,void r({id:e});var e}},"hide")," ","]"),o.default.createElement("div",{className:"nb_display_mobile"},o.default.createElement("span",null,o.default.createElement("b",null,"Comments:")," ",t.num_comments)," | ",o.default.createElement("span",null,o.default.createElement("b",null,"Votes:")," ",t.points)))}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRelativeTime=t.getHostName=void 0;var n,a=r(21),o=(n=a)&&n.__esModule?n:{default:n};t.getHostName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(e||"").replace("http://","").replace("https://","").split(/[/?#]/);return t[0]},t.getRelativeTime=function(e){return(0,o.default)(e).fromNow()}},function(e,t){e.exports=require("moment")},function(e,t,r){e.exports={primary:"#c64f00",chartBorder:"#104875",secondary5:"#a5adae"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(0),o=(n=a)&&n.__esModule?n:{default:n},u=r(4);t.default=function(e){var t=e.page,r=e.nbPages,n=(t=parseInt(t))+1,a=t-1,l=r-1>t;return o.default.createElement("div",null,!!t&&o.default.createElement(u.Link,{to:"/"+a},"Previous")," | ",!!l&&o.default.createElement(u.Link,{to:"/"+n},"Next"))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(0)),a=r(25),o=u(r(26));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}t.default=function(e){var t=e.labels,r=e.data,u={labels:t,datasets:[{label:"",fill:!1,lineTension:0,borderColor:o.default.chartBorder,borderCapStyle:"square",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:o.default.chartBorder,pointBackgroundColor:o.default.chartBorder,pointBorderWidth:5,pointHoverRadius:5,pointHoverBackgroundColor:o.default.chartBorder,pointHoverBorderColor:o.default.chartBorder,pointHoverBorderWidth:5,pointRadius:1,pointHitRadius:0,data:r}]},i={maintainAspectRatio:!1,legend:{display:!1},layout:{padding:{left:10,right:10,top:10,bottom:10}},scales:{xAxes:[{gridLines:{display:!1,color:"black"},scaleLabel:{display:!0,labelString:"ID",fontColor:"black",fontSize:"20"}}],yAxes:[{ticks:{min:0,stepSize:Math.max.apply(Math,l(r))/3},gridLines:{color:o.default.secondary5},scaleLabel:{display:!0,labelString:"Votes",fontColor:"black",fontSize:"20"}}]}};return n.default.createElement("div",null,n.default.createElement(a.Line,{data:u,height:250,options:i}))}},function(e,t){e.exports=require("react-chartjs-2")},function(e,t,r){e.exports={primary:"#c64f00",chartBorder:"#104875",secondary5:"#a5adae"}},function(e,t,r){e.exports={primary:"#c64f00",chartBorder:"#104875",secondary5:"#a5adae"}},function(e,t){e.exports=require("serialize-javascript")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(3),o=r(30),u=(n=o)&&n.__esModule?n:{default:n};t.default=(0,a.combineReducers)({stories:u.default})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(2),o=r(31);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.FETCH_STORIES:return t.env,n({},t.payload.data);case a.UPVOTE_STORY:return(0,o.updateVoteInlocalStorage)(t.payload),(0,o.updateState)(e,t.payload);case a.HIDE_STORY:return(0,o.hideInlocalStorage)(t.payload),(0,o.hideStory)(e,t.payload);default:return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.updateState=function(e,t){var r=e.hits.findIndex((function(e){return e.objectID==t.id}));return r&&(e.hits[r]=n({},e.hits[r],{points:parseInt(e.hits[r].points)+1})),Object.assign({},e,{modalOpen:!0})},t.updateVoteInlocalStorage=function(e){if("localStorage"in window){var t=localStorage.getItem(e.id)||0;void 0!==t&&("true"===t&&(t=1),++t),localStorage.setItem(e.id,t)}},t.takePointsfromLocal=function(e){return"localStorage"in window&&e&&localStorage.getItem(e.objectID)?n({},e,{points:localStorage.getItem(e.objectID)}):e},t.hiddenStoryFromLocal=function(e){return"localStorage"in window&&e&&localStorage.getItem("hide"+e.objectID)?n({},e,{isHidden:!0}):e},t.hideStory=function(e,t){var r=e.hits.findIndex((function(e){return e.objectID==t.id}));return r&&(e.hits[r]=n({},e.hits[r],{isHidden:!0})),Object.assign({},e,{modalOpen:!0})},t.hideInlocalStorage=function(e){"localStorage"in window&&localStorage.setItem("hide"+e.id,!0)}},function(e,t){e.exports=require("redux-thunk")}]);